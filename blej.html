<!DOCTYPE html>
<html lang="sq">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shpallje Produkte</title>
    <link rel="stylesheet" href="styles.css">

    <style>
        /* Stilizimi për container */
        .container {
            width: 60%;
            margin: 0 auto;
            padding: 20px;
        }

        /* Titulli */
        h1 {
            text-align: center;
            font-size: 2em;
            color: #333;
            margin-bottom: 20px;
        }

        /* Stilizimi për filtrin */
        .filter-container {
            margin-bottom: 20px;
            text-align: center;
        }

        select {
            padding: 10px;
            font-size: 1em;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        /* Stilizimi për produktet */
        .produkt {
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 3px 9px rgba(0, 0, 0, 0.4);
            margin-bottom: 20px;
            padding: 20px;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
        }

        /* Efekti kur kalon miu mbi produkt */
        .produkt:hover {
            transform: translateY(-5px);
        }

        /* Titulli i produktit */
        .produkt h3 {
            font-size: 1.5em;
            color: #007bff;
            text-align: center;
            flex-basis: 100%;
        }

        /* Detajet e produktit */
        .produkt p {
            font-size: 1em;
            color: #555;
            margin: 5px 0;
        }

        /* Stilizimi për foto */
        .produkt img {
            width: 100px;
            height: 100px;
            object-fit: cover;
            margin-right: 10px;
            cursor: pointer;
        }

        /* Kolona për shfaqjen e fotove */
        .foto-container {
            display: flex;
            flex-wrap: wrap;
            margin-top: 10px;
        }

        .foto-container img {
            width: 100px;
            height: 100px;
            object-fit: cover;
            margin: 5px;
        }

        /* Modal për shfaqjen e fotos me zoom */
        .modal {
            display: none; /* Fsheh modal-in fillimisht */
            position: fixed;
            z-index: 999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.7); /* Background transparent */
            padding-top: 50px;
            text-align: center;
        }

        .modal-content {
            margin: auto;
            display: block;
            max-width: 80%;
            max-height: 80%;
        }

        /* Butoni për mbylljen e modal-it */
        .close {
            position: absolute;
            top: 10px;
            right: 25px;
            color: #f1f1f1;
            font-size: 35px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover,
        .close:focus {
            color: #bbb;
            text-decoration: none;
            cursor: pointer;
        }


        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f0f0;
        }

        header {
            background-color: #002c6d;
            color: white;
            padding: 10px 0;
            text-align: center;
        }

        header nav ul {
            list-style-type: none;
            padding: 0;
        }

        header nav ul li {
            display: inline;
            margin: 0 20px;
        }

        header nav ul li a {
            color: white;
            text-decoration: none;
            font-size: 18px;
        }

        section {
            padding: 20px;
        }

        h2 {
            color: #333;
        }
        .language-selector {
            display: flex;
            justify-content: flex-start;
            gap: 10px;
            margin: 20px;
        }

        .language-selector img {
            cursor: pointer;
            width: 30px; /* Gjatësia e flamurit */
            height: 20px; /* Lartësia e flamurit */
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        .language-selector img:hover {
            opacity: 0.7;
        }

        html {
    scroll-behavior: smooth;
}
        
    </style>

<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<link rel="stylesheet" type="text/css" href="css/bootstrap.css" />

<!-- fonts style -->
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap" rel="stylesheet">

<!--owl slider stylesheet -->
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" />

<!-- font awesome style -->
<link href="css/font-awesome.min.css" rel="stylesheet" />

<!-- Custom styles for this template -->
<link href="css/style.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
</head>
<body>

    <header>
        <a class="navbar-brand" href="index.html">  
            <span>
              ALL in ONE
            </span>
          </a>
    
        <nav>
            <ul>
                <li><a href="Meny.html" data-translate-key="p1">Vendi i kerkimeve</a></li>
                <li><a href="shitje.html" data-translate-key="p2">Shit produkt</a></li>
           
            </ul>
        </nav>
        <div class="language-selector">
          <img src="https://th.bing.com/th?id=OSK.HEROo1Hy4-nUoE3huqwGw_SjCFSLjqRVU_x_mgmpLklPuMU&w=296&h=176&c=1&rs=2&o=6&dpr=1.5&pid=SANGAM" alt="Shqip" title="Shqip" onclick="setLanguage('shqip')">
          <img src="https://upload.wikimedia.org/wikipedia/commons/a/a4/Flag_of_the_United_States.svg" alt="English" title="English" onclick="setLanguage('anglisht')">
          <img src="https://th.bing.com/th?id=OIP.yC5HOVTe4JBzyP1X_wABOwHaDt&w=350&h=175&c=8&rs=1&qlt=90&o=6&dpr=1.5&pid=3.1&rm=2" alt="Maqedonisht" title="Maqedonisht" onclick="setLanguage('maqedonisht')">
      </div>
    </header>

    
    <h2 style="text-align: center; margin-top: 15px;" data-translate-key="p3">Blej</h2>
    <div style="text-align: center; margin-left: 20px;" class="filters">
  
  </div>
<hr style="background-color: black;">
<br>  



    <div class="container">
      
        <!-- Filtri për kategori -->
        <div class="filter-container">
            <label for="kategori" data-translate-key="p4">Filtro sipas Kategorisë: </label>
            <select id="kategori" onchange="filtroniProdukte()">
                <option data-translate-key="p5" value="">Të gjitha Kategoritë</option>
                <option data-translate-key="p6" value="veture">Vetura</option>
                <option data-translate-key="p7" value="veshje">Veshje</option>
                <option data-translate-key="p8" value="elektronike">Elektronike</option>
                <option data-translate-key="p9" value="kopsht">Kopsht</option>
                <option data-translate-key="p10" value="sport">Sport</option>
            </select>
        </div>

        <!-- Div për produktet -->
        <div id="produkte">
            <!-- Produktet do të shfaqen këtu -->
        </div>
    </div>

    <!-- Modal për shfaqjen e fotos më të madhe -->
    <div id="myModal" class="modal">
        <span class="close" onclick="closeModal()">&times;</span>
        <img class="modal-content" id="modalImage">
    </div>

    <script>
        let produktet = [];

        // Përdorim JavaScript për të marrë produktet nga databaza dhe për t'i shfaqur
        window.onload = function() {
            fetch('blej.php') // Merr produktet nga skedari produkte.php
            .then(response => response.json()) // Konverto përgjigjen në JSON
            .then(data => {
                produktet = data;
                shfaqProduktet(produktet);
            })
            .catch(error => {
                console.error('Gabim gjatë marrëdhënies me serverin:', error);
            });
        }

        function shfaqProduktet(produktet) {
    // Sortimi i produkteve sipas datës së shpalljes (nga më i riu në më të vjetrit)
    produktet.sort((a, b) => new Date(b.data_shpalljes) - new Date(a.data_shpalljes));

    let produkteDiv = document.getElementById('produkte');
    if (produktet.length === 0) {
        produkteDiv.innerHTML = "<p>Nuk ka produkte për momentin.</p>";
    } else {
        produkteDiv.innerHTML = ''; // Pastroni përmbajtjen e div
        produktet.forEach(produkt => {
            let produktDiv = document.createElement('div');
            produktDiv.classList.add('produkt');
            produktDiv.innerHTML = `
            <p style="text-align: right;">${produkt.data_shpalljes}</p>
                <h3>${produkt.emri}</h3>
                <p><strong>Kategoria:</strong> ${produkt.kategoria}</p>
                <p><strong>Çmimi:</strong> €${produkt.cmimi}</p>
                <p><strong>Shitësi:</strong> ${produkt.emri_shitesit}</p>
                <p><strong>Kontakti:</strong> ${produkt.kontakti}</p>
                <p><strong>Informacion:</strong> ${produkt.info}</p>
                
                <div class="foto-container">
                    ${produkt.fotot.map(foto => `
                        <img src="${foto}" alt="Foto Produkti" onclick="openModal('${foto}')">
                    `).join('')}
                </div>
            `;
            produkteDiv.appendChild(produktDiv);
        });
    }
}



        // Funksioni për të hapur modal-in me foton e zgjedhur
        function openModal(foto) {
            var modal = document.getElementById("myModal");
            var modalImage = document.getElementById("modalImage");
            modal.style.display = "block"; // Hap modal-in
            modalImage.src = foto; // Vendos foto të madhe në modal
        }

        // Funksioni për të mbyllur modal-in
        function closeModal() {
            var modal = document.getElementById("myModal");
            modal.style.display = "none"; // Mbyll modal-in
        }

        // Funksioni për të filtruar produktet sipas kategorisë
        function filtroniProdukte() {
            let kategoria = document.getElementById('kategori').value;
            let produktetFiltruara = kategoria ? produktet.filter(produkt => produkt.kategoria === kategoria) : produktet;
            shfaqProduktet(produktetFiltruara);
        }







        const translations = {
        "p1": {
            "shqip": "Vendi i Kerkimeve",
            "anglisht": "Search Place",
            "maqedonisht": "MAC"
        },
        "p2": {
            "shqip": "Shit Produkt",
            "anglisht": "Sell Product",
            "maqedonisht": "MAC"
        },
        "p3": {
            "shqip": "Blej",
            "anglisht": "Buy",
            "maqedonisht": "MAC"
        },
        "p4": {
            "shqip": "Filtro sipas Kategorisë:",
            "anglisht": "Filter by Category:",
            "maqedonisht": "MAC"
        },
        "p5": {
            "shqip": "Të gjitha Kategoritë",
            "anglisht": "All Categories",
            "maqedonisht": "MAC"
        },
        "p6": {
            "shqip": "Vetura",
            "anglisht": "Cars",
            "maqedonisht": "MAC"
        },
        "p7": {
            "shqip": "Veshje",
            "anglisht": "Clothes",
            "maqedonisht": "MAC"
        },
        "p8": {
            "shqip": "Elektronik",
            "anglisht": "Electronic",
            "maqedonisht": "MAC"
        },
        "p9": {
            "shqip": "Kopsht",
            "anglisht": "Garden",
            "maqedonisht": "MAC"
        },
        "p10": {
            "shqip": "Sport",
            "anglisht": "Sports",
            "maqedonisht": "MAC"
        },

    };

    let currentLanguage = "shqip";  // Gjuhën e paracaktuar (Shqip)

// Funksioni për të vendosur gjuhën
function setLanguage(language) {
    currentLanguage = language;  // Përdorimi i gjuhës së zgjedhur

    // Ndrysho tekstin në të gjithë faqen që ka atributin data-translate-key
    const elements = document.querySelectorAll("[data-translate-key]");  // Gjej të gjitha elementet që kanë atributin data-translate-key
    elements.forEach(element => {
        const key = element.getAttribute("data-translate-key");  // Merr çelësin përkthimi
        const translation = translations[key];  // Merr përkthimin për çelësin
        if (translation) {
            element.innerText = translation[currentLanguage];  // Ndrysho tekstin në element
        }
    });
  }
    </script>
</body>
</html>
